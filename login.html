<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap 4 CSS 文件 -->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">

  <!-- 在下面添加自己的css -->
  <link rel="stylesheet" href="assets/css/login.css">
  
  <title>Document</title>
</head>
<body>
  <ul id='list'></ul>
  <div class="container">
    <div class="header row align-cente"></div>
    <div class="login row" style="background-color: #f1f1f1;">
      <div class="log col-md-6">
        <img src="assets/img/log1.png">
      </div>
      <div class="col-md-4">
        <div class="row justify-content-center">
          <h1>登录</h1>
        </div>
        <form id="form">
          <div class="form-group">
            <label for="username">用户名/手机号/教工号</label>
            <input type="text" class="form-control" id="username" name="username">
          </div>
          <div class="form-group">
            <label for="pasd">密码</label>
            <input type="password" class="form-control" id="pasd" name="password">
          </div>
          <div class="form-row justify-content-around">
            <div class="form-group form-check col-md-5">
              <input type="checkbox" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" for="exampleCheck1">记住密码</label>
            </div>
            <a class="col-md-3" href="#">忘记密码</a>
          </div>
          <div class="row justify-content-center">
            <button type="button" onclick="onSubmit()" class="btn btn-primary col-md-3">登录</button>
          </div>
          <div class="row justify-content-center">
            <p class="col-md-5">你还没有密码?</p>
            <a class="col-md-3" href="views/Register/Register.html">注册</a>
          </div>
        </form>
      </div>
    </div>

    <!-- 底部 -->
    <div class="row" style="height: 50px;background-color: #f1f1f1;"></div>
    <div class="row justify-content-center footer">
      <a class="col-md-1" href="#">关于我们</a>
      <a class="col-md-1" href="#">网站地图</a>
      <a class="col-md-1" href="#">版权声明</a>
      <a class="col-md-1" href="#">招聘信息</a>
      <a class="col-md-1" href="#">帮助中心</a>
      <a class="col-md-1" href="#">在线客服</a>
    </div>
    <div class="row justify-content-center footer">
      <div class="col-md-6">
        邮编:350000 电话:XXXXXXXX 邮箱:XXXXXXX
      </div>
    </div>

  </div>

  <!-- JQuery 和 bootstrap4 js文件 -->
  <script src="assets/js/jquery-3.5.1.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  
  <!-- 在下面添加自己的js -->
  <script>
    function onSubmit(){
      var username=document.getElementById("username").value;
      var password=document.getElementById("pasd").value;
     $.ajax({
      type:'get',
      url:'https://813f1298-ee3b-4e8e-b30d-3d36891afeb6.bspapp.com/http/check_user',
      contentType:'application/json',
      data:{"username":username,"password":password},
      dataType:"json",
      success:function(data){
        if(data.status==0)
        {
          alert("登录失败，请检查用户名或者密码");
        }else{
          localStorage.setItem("obj_userID",JSON.stringify({
            obj_name:"userID",
            code:data.TID
          }))
          $(location).attr('href', 'views/Schedule.html');
        }
      },
      error:function(data){
        alert("网络错误");
      }
     });
    }
  </script>
</body>
</html>